### API参考(Android)

### Java

- `RtcEngineConfig` 类的 [addExtension](https://docs.agora.io/cn/video-call-4.x/API%20Reference/java_ng/API/api_irtcengine_addextension.html)
- `RtcEngine` 类的 [enableExtension](https://docs.agora.io/cn/video-call-4.x/API%20Reference/java_ng/API/toc_network.html#api_irtcengine_enableextension)
- `RtcEngine` 类的 [setExtensionProperty](https://docs.agora.io/cn/video-call-4.x/API%20Reference/java_ng/API/toc_network.html#api_irtcengine_setextensionproperty)
- `IMediaExtensionObserver` 类的 [onEvent](https://docs.agora.io/cn/video-call-4.x/API%20Reference/java_ng/API/toc_network.html#callback_irtcengineeventhandler_onextensionevent)

### Objective-C

- `AgoraRtcEngineKit` 类的 [enableExtensionWithVendor](https://docs.agora.io/cn/video-call-4.x/API%20Reference/ios_ng/API/toc_network.html#api_irtcengine_enableextension)
- `AgoraRtcEngineKit` 类的 [setExtensionPropertyWithVendor](https://docs.agora.io/cn/video-call-4.x/API%20Reference/ios_ng/API/toc_network.html#api_irtcengine_setextensionproperty)
- `AgoraMediaFilterEventDelegate` 类的 [onEvent](https://docs.agora.io/cn/video-call-4.x/API%20Reference/ios_ng/API/toc_network.html#callback_irtcengineeventhandler_onextensionevent)



## 插件的 key 概览 

在声网 SDK 中调用插件相关 API 时，需要传入指定的 key 和 value。本节介绍OfflineVoiceConversion支持的所有 key。

| setExtensionProperty/setExtensionPropertyWithVendor 方法的 key |   说明   |
| :----------------------------------------------------------: | :------: |
|                           authors                            | 设置授权 |
|                          voiceName                           | 设置音色 |
|                            enable                            | 插件开关 |
|                            isLog                             | 日志开关 |

### 回调 key

错误的回调分为两类：

1. 鉴权相关如下表
2. 其他的错误见错误码

| onEvent 回调的 key | 描述                                                 |
| ------------------ | ---------------------------------------------------- |
| Authors            | 鉴权相关（仅iOS）, 比如安装量不足，或者网络错误相关  |
| 2001               | 鉴权相关（仅安卓）, 比如安装量不足，或者网络错误相关 |



##  方法 key 的 value 说明

### 方法 key

调用声网 SDK 的 `setExtensionProperty`/`setExtensionPropertyWithVendor` 方法时，支持传入以下 key：

**setExtensionProperty/setExtensionPropertyWithVendor 方法**

| setExtensionProperty/setExtensionPropertyWithVendor 方法的 key |                            Value                             |
| :----------------------------------------------------------: | :----------------------------------------------------------: |
|                           authors                            | { "clientId": "xxxxx...", "clientSecret": "xxxxx...", "voiceName": "Vc_luoli" } |
|                          voiceName                           |            Vc_luoli (如不设置,默认音色为Vc_luoli)            |
|                            enable                            |                            false                             |
|                            isLog                             |                             true                             |

### 回调 key

Android的回调key

| 错误码 |       含义       | 处理方法     |
| :----: | :--------------: | ------------ |
|  0000  |     请求成功     |              |
|  1001  |   没有读写权限   | 开启读写权限 |
|  1002  |   没有录音权限   |              |
|  1003  | 采样率仅支持16k  |              |
|  1004  | 传入json数据异常 |              |
|  2001  |   激活授权失败   |              |
|  3001  |   引擎内部错误   |              |

iOS的回调key

| 22190010 | 请求授权参数报错   |
| -------- | ------------------ |
| 22190011 | 获取token报错      |
| 22190012 | 授权无效           |
| 22190013 | 设备信息鉴权失败   |
| 3001     | 引擎初始化失败     |
| 3002     | 引擎接口调用失败   |
| 3003     | 传给引擎的参数错误 |
| 3004     | 引擎内存不足       |
| 3005     | 引擎内部运行失败   |
